"use strict";(self.webpackChunkfirstreact=self.webpackChunkfirstreact||[]).push([[162],{7162:function(e,s,t){t.r(s),t.d(s,{default:function(){return ue},withRouter:function(){return de}});var i=t(8683),o=t(5671),a=t(3144),n=t(136),r=t(5716),l=t(2791),c=t(500),d="MyPost_posts__tFogf",u="MyPost_container__hyqj5",p="MyPost_add_form__VJyvt",h="MyPost_posts_items__4dvnQ",f=t(9950),m="Post_post__4-HLW",_="Post_post__img__Tjwbv",x="Post_post__info__IFsjX",j="Post_post__like__ZwJWj",v="Post_post__message__X27da",N="Post_post__btn__IRC5s",P=t(8055),g=t(2683),b=t(8236),k=t(184),y=function(e){return(0,k.jsxs)("div",{className:m,children:[(0,k.jsxs)("div",{className:x,children:[(0,k.jsx)("div",{className:_,children:(0,k.jsx)("img",{src:e.profileImage||P,width:50,alt:""})}),(0,k.jsxs)("div",{className:j,children:[(0,k.jsx)("img",{src:g,width:30,onClick:function(s){s.preventDefault(),e.like()}}),(0,k.jsx)("p",{children:e.post.likesCount})]})]}),(0,k.jsx)("div",{className:v,children:e.post.message}),(0,k.jsx)("img",{src:b,width:30,onClick:function(s){s.preventDefault(),e.deletePost()},className:N})]})},S=function(e){return(0,k.jsx)(y,{post:e.post,deletePost:function(){f.Z.dispatch((0,c.D2)(e.post.id))},like:function(){f.Z.dispatch((0,c.ny)(e.post.id,e.post.likesCount++))},profileImage:e.profileImage})},Z=t(6139),I=t(704),M=t(6750),D=(0,M.DT)(15),C=function(e){return(0,k.jsx)("div",{className:p,children:(0,k.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,k.jsx)(Z.Z,{component:M.gx,name:"postText",label:"Enter your text..."}),(0,k.jsx)("button",{children:"Post"})]})})};C=(0,I.Z)({form:"AddPostForm",validate:function(e){var s=[];return e.postText?D(e)&&(s.postText=D(e)):s.postText="Required!",s}})(C);var F=l.memo((function(e){var s=e.state.posts.map((function(s){var t;return(0,k.jsx)(S,{post:s,profileImage:null===(t=e.state.profile)||void 0===t?void 0:t.photos.large})}));return(0,k.jsx)("div",{className:d,children:(0,k.jsxs)("div",{className:u,children:[(0,k.jsx)("h2",{children:"My Posts"}),(0,k.jsx)(C,{onSubmit:function(s){e.addPost(s.postText)}}),(0,k.jsx)("div",{className:h,children:s})]})})})),w=t(364),T={addPost:c.q2},A=(0,w.$j)((function(e){return{state:e.profilePage}}),T)(F),E=t(885),J="Profile_profile__dTD1s",V="Profile_container__4qISb",U="Profile_profile_wrap__0ohEy",q="Profile_profile__user__+0+jb",L="Profile_profile__ava__1pszl",O="Profile_userPhoto__E7+ka",R="Profile_profile__user_label__TTDK9",H="Profile_profile__user_text__O8OZ7",$="Profile_profile__inner__NnQF6",z="Profile_profile__inner_data__ujNMJ",K="Profile_profile__inner_data_form__xTdNf",Q="Profile_profile__button__+9Ko7",W="Profile_contact__aH2Vw",X="Profile_status__Zf+ji",B="Profile_show_details__uR94U",Y=t(5674),G=function(e){(0,n.Z)(t,e);var s=(0,r.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=s.call.apply(s,[this].concat(a))).state={editMode:!1,statusValue:""},e}return(0,a.Z)(t,[{key:"activeEditMode",value:function(){this.setState({editMode:!0})}},{key:"deActiveEditMode",value:function(){this.setState({editMode:!1}),this.props.saveProfileStatus(this.props.status)}},{key:"onStatusChange",value:function(e){this.props.onChangeStatus(e.target.value)}},{key:"render",value:function(){var e=this;return(0,k.jsx)("div",{className:X,children:this.state.editMode?(0,k.jsx)("div",{children:(0,k.jsx)("input",{type:"text",value:this.props.status?this.props.status:"",autoFocus:!0,onBlur:this.deActiveEditMode.bind(this),onChange:function(s){return e.onStatusChange(s)}})}):(0,k.jsx)("div",{children:(0,k.jsx)("span",{onDoubleClick:this.activeEditMode.bind(this),children:this.props.status?this.props.status:"You don't have any status!"})})})}}]),t}(l.Component),ee=(0,w.$j)((function(e){return{status:e.profilePage.profileStatus}}),{onChangeStatus:c.dr,saveProfileStatus:c.rI})(G),se=function(e){var s=e.profile,t=e.switchEditMode,i=(0,l.useState)(!1),o=(0,E.Z)(i,2),a=o[0],n=o[1];return(0,k.jsxs)("div",{className:z,children:[(0,k.jsx)("p",{className:R,children:"Full name: "}),(0,k.jsx)("p",{className:H,children:s.fullName}),(0,k.jsx)("p",{className:R,children:"About Me: "}),(0,k.jsx)("p",{className:H,children:s.aboutMe}),(0,k.jsx)("p",{className:R,children:"Looking For A Job: "}),(0,k.jsx)("p",{className:H,children:s.lookingForAJob?"No,I appreciate to Dimych!":"In Search"}),(0,k.jsx)("p",{className:R,children:"My Skilss: "}),(0,k.jsx)("p",{className:H,children:s.lookingForAJobDescription}),(0,k.jsx)("button",{className:Q,onClick:function(){return n((function(e){return!e}))},children:a?"Hide Details":"Show Details"}),a&&(0,k.jsxs)("div",{className:B,children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:R,children:"Contacts: "}),Object.keys(s.contacts).map((function(e){return(0,k.jsx)(ie,{contactTitle:e,contactValue:s.contacts[e]},e)}))]}),(0,k.jsx)("div",{children:(0,k.jsx)("button",{className:Q,onClick:t,children:"Edit"})})]})]})},te=function(e){var s=e.initialValues,t=(e.switchEditMode,e.handleSubmit);return(0,k.jsxs)("div",{className:K,children:[(0,k.jsx)("h1",{children:"Edit Proflie Info"}),(0,k.jsxs)("form",{onSubmit:t,children:[(0,k.jsx)("p",{className:R,children:"Full Name: "}),(0,k.jsx)(Z.Z,{label:"Full Name",name:"fullName",component:M.II,type:"text"}),(0,k.jsx)("p",{className:R,children:"About me: "}),(0,k.jsx)(Z.Z,{label:"About me",name:"aboutMe",component:M.gx}),(0,k.jsx)("p",{className:R,children:"Looking For a Job"}),(0,k.jsx)(Z.Z,{name:"lookingForAJob",component:M.II,type:"checkbox"}),(0,k.jsx)("p",{className:R,children:"My Skilss: "}),(0,k.jsx)(Z.Z,{label:"Description",name:"lookingForAJobDescription",component:M.gx}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:R,children:"Contacts: "})," ",Object.keys(s.contacts).map((function(e){return(0,k.jsxs)("div",{className:W,children:[(0,k.jsxs)("p",{className:R,children:[e,": "]}),(0,k.jsx)(Z.Z,{name:"contacts."+e,label:e,component:M.II})]})}))]}),(0,k.jsx)("button",{className:Q,children:"Save"})]})]})};te=(0,I.Z)({form:"ProfileDataForm"})(te);var ie=function(e){var s=e.contactTitle,t=e.contactValue;return(0,k.jsxs)("div",{className:W,children:[(0,k.jsxs)("p",{className:R,children:[s,": "]}),(0,k.jsx)("a",{className:H,href:t,children:t})]})},oe=function(e){var s=(0,l.useState)(!1),t=(0,E.Z)(s,2),i=t[0],o=t[1];if(!e.profile)return(0,k.jsx)(Y.Z,{});return(0,k.jsx)("section",{className:J,children:(0,k.jsx)("div",{className:V,children:(0,k.jsxs)("div",{className:U,children:[(0,k.jsxs)("div",{className:q,children:[(0,k.jsx)("h1",{children:"My Profile"}),(0,k.jsxs)("div",{className:L,children:[(0,k.jsxs)("div",{className:O,children:[(0,k.jsx)("img",{src:e.profile.photos.large||P,alt:""}),(0,k.jsx)("input",{type:"file",id:"file",onChange:function(s){s.target.files&&e.savePhoto(s.target.files[0])}}),(0,k.jsx)("label",{htmlFor:"file",children:(0,k.jsx)("span",{children:"Upload Avatar"})})]}),(0,k.jsx)("p",{className:R,children:"Full Name"}),(0,k.jsx)("p",{className:H,children:e.profile.fullName}),(0,k.jsx)("p",{className:R,children:"Status"}),(0,k.jsx)("p",{className:H,children:(0,k.jsx)(ee,{})})]})]}),(0,k.jsx)("div",{className:$,children:i?(0,k.jsx)(te,{onSubmit:function(s){e.saveProfileData(s),o(!1)},initialValues:e.profile}):(0,k.jsx)(se,{profile:e.profile,switchEditMode:function(){o(!0)}})})]})})})},ae=function(e){return(0,k.jsxs)("div",{children:[(0,k.jsx)(oe,{profile:e.state.profile,toggle:e.state.toggleIsFetching,status:e.state.profileStatus,savePhoto:e.savePhoto,saveProfileData:e.saveProfileData}),(0,k.jsx)(A,{})]})},ne=t(6871),re=t(7781),le=t(1548),ce=function(e){(0,n.Z)(t,e);var s=(0,r.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props.userId;this.props.matchId&&(e=this.props.matchId),this.props.getProfileUser(e),this.props.getProfileStatus(e)}},{key:"componentDidUpdate",value:function(e,s,t){}},{key:"render",value:function(){return(0,k.jsx)(ae,{state:this.props.state,savePhoto:this.props.savePhoto,saveProfileData:this.props.saveProfileData})}}]),t}(l.Component),de=function(e){return function(s){var t=(0,ne.bS)("/profile/:userId");return(0,k.jsx)(e,(0,i.Z)((0,i.Z)({},s),{},{matchId:null===t||void 0===t?void 0:t.params.userId}))}},ue=(0,re.qC)(le.Z,de,(0,w.$j)((function(e){return{state:e.profilePage,userId:e.auth.id}}),{getProfileUser:c.zv,getProfileStatus:c.TL,savePhoto:c.Ju,saveProfileData:c.xU}))(ce)},8236:function(e,s,t){e.exports=t.p+"static/media/delete.5cc943d27eb3ed685271.png"},2683:function(e,s,t){e.exports=t.p+"static/media/like.07087114b1156beaf0d2.png"}}]);
//# sourceMappingURL=162.6cea9167.chunk.js.map